# copyPoster [by_Artisan]

Сервис по теражированию **постов** в социальных сетях. Основной целью сервиса является отслеживание актуальности блогов **пользователя** в актуальном состоянии.

# Основной функционал сервиса
* [ ] интеграция с сообществами в VK;
* [ ] интеграция с каналами и группами telegram;
* [ ] по расписанию или по запросу добавлять новый **пост** в любой связанный **источник**;
* [ ] настраивать связи между **источниками** можно в админке сервиса;
* [ ] админка сервиса реализована во всех поддерживаемых **платформах**;
* [ ] сохранение данных на стороне нервера (в зашифрованном виде);

# Основные понятия:
1. **Сервер** - бизнес логика
2. **База данных** - хранение настроек и данных в зашифрованном виде
3. **Платформа** - Социальная сеть с набором **источников**
4. **Источник** - Каналы, сообщества, группы для размещения **постов**
5. **Пользователь** - Владелец списка **источников**
6. **Пост** - Минимальный объект для размещения в **источнике** 

# Концепт архитектуры
Послойная архитектура с конверторами данных в *стандартный* вид. **Источник** обрабатывает полученный от **пользователя** запрос на синхронизацию или раз в определённый период запускает синхронизацию сам. Если в **источнике** появился новый **пост** - **источник** отправляет запрос на **сервер**. **Сервер** выполняет синхронизацию и собщает **источнику** о результатах синхронизации, в том числе о размещении **постов** на других **платформах** или о неудаче и причинах неудачи. Явным образом отметим, что вся информация **пользователю** предоставляется в том **источнике**, где он запросил синхронизацию/прошла автосинхронизация. Таким образом, если два **источника** имеют разный набор **постов** и у них настроено автообновление, в **источник** доннор будет отправлена информация о публикации **постов** из него в список **источников** реципиентов.

# Взаимодействия модулей

## База данных
хранит информацию о связи **источников** между собой. Связь **источников** двухсторонняя для создания **постов**.

## Источники
привязаны к **пользователю**. **Пользователь** может связывать и отвязывать *существующие* **источники**.

## Сервер
основной модуль для обработки **постов** и настройки синхронизации **источников**. 

### Обработка постов
1. Принимает запросы от **платформ** через слой **источника** (например сервисный аккаунт **платформы**),
2. Конвертирует данные в стандартный формат,
3. Ищет **источники**, где ещё не опубликован данный **пост**,
4. Конвертирует стандартные данные в формат **платформы** и отправляет в слой **источника** (так же сервисный аккаунт **платформы**)

### Настройка синхронизации источников
* Связь между источниками (всегда двухсторонняя)
* Включить выключить авто теражирование
* Настроить период запуска синхронизации (Начиная с 12 часов)

Для каждой **платформы** настройка **источников** реалезуется отдельно. 
